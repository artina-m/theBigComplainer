<html>
<head>
    <title>The Big Complainer</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="http://d3js.org/topojson.v2.min.js"></script>
    <link rel = "stylesheet" type="text/css" href = "index.css">
</head>
    
<body>
    
<div class = "visualization">

    <div class = "firstSection">
    </div>
    
    <div class = "secondSection">
    </div>
    
    <div class = "thirdSection">
    </div>
    
</div>
    
    

<script>
    
    // Load Data
    function parseLine(line) {
        return {
            uniqueKey: Number(line["Unique Key"]),
            date: line["Created Date"],
            complaintType: line["Complaint Type"],
            zipcode: line["Incident Zip"],
            latitude: Number(line["Latitude"]),
            longitude: Number(line["Longitude"]),
            nieghborhood: line["Neighborhood"]
        }
    }
    
    var complaintData;
    
    d3.tsv("ManhattanComplaints", parseLine, function(error,data){
        complaintData = data;
    })
    
    
    
    // MAP
    var svg1 = d3.select(".secondSection").append("svg")
            .attr("width", "100%")
            .attr("height", "100%");
    
    
    d3.json("nyc.geojson", function(error, nyb) {
        var projection = d3.geoMercator()
                .center([-74.08, 40.75])
                .scale(190000)
                .translate([(200/2 - 150), (400)/2+180]);
        
        var path = d3.geoPath().projection(projection);
        var g1 = svg1.append("g");
        
        g1.append("g")
                .attr("id", "postalCode")
                .selectAll(".state")
                .data(nyb.features)
                .enter().append("path")
                .attr("class", function(d){ return d.properties.name; })
                .attr("d", path)
                .attr("fill", function(d){
                    if (d.properties.postalCode == "10003" ||  d.properties.postalCode ==  "10009" ||  d.properties.postalCode ==  "10002") {return "orange"}
                    else {
                        return"lightgrey"}
                })
                .attr("stroke", "white")
        
        


        
    })
</script>
    
</body>
    
    
    
<!-- Refrences -->
    
</html>